<GuiXml> 
	<Controls>
		<!-- This button template is used as a template for all the piece toggle buttons.-->
		<Button name="PieceButtonTemplate"  virtual="true" alpha="1"  topmost="true" ><!--inherits="ToggleButton">-->
			<Anchor point="CENTER" relativeTo="$(parent)" relativePoint="CENTER"  />
			<Dimensions x="48" y="48" />
			<Textures mouseOver="esoui/art/characterwindow/gearslot_over.dds"/>
			<OnMouseEnter>
				InitializeTooltip(InformationTooltip, self, BOTTOM, 0, -5)
				SetTooltipText(InformationTooltip, self.tooltip)
				
			</OnMouseEnter>
			<OnMouseExit>
				ClearTooltip(InformationTooltip)
			</OnMouseExit>
			<OnClicked>
				self:toggle()
			</OnClicked>
		</Button>
		<!-- This template is used for all the scrolling comboboxes which have a large amount of options (e.g. style, set)-->
		<Label name="ScrollComboboxTemplate" virtual="true" mouseEnabled="true">
			<Dimensions x="250" y="30" />
			<Anchor point="LEFT" relativeTo="$(parent)" relativePoint="LEFT" offsetX="20" />
			<Controls>
				
				<Label name="$(parent)Name" font="ZoFontGame" verticalAlignment="CENTER">
					<Dimensions x="250" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)" relativePoint="LEFT" offsetX="0" offsetY="0" />
				</Label>
				<Control name="$(parent)ComboBox" inherits="ZO_StatsDropdownRow"><!--ZO_ScrollableComboBox-->
					<Anchor point="RIGHT" relativeTo="$(parent)" relativePoint="RIGHT" offsetX="0" offsetY="0" />
					<Dimensions x="200" y="30" />
				</Control>
			</Controls>
		</Label>
		<!-- This combobox template is used for all the non scrolling comboboxes-->
		<Label name="ComboboxTemplate" virtual="true" mouseEnabled="true">
			<Dimensions x="250" y="30" />
			<Anchor point="LEFT" relativeTo="$(parent)" relativePoint="LEFT" offsetX="20" />
			<Controls>
				
				<Label name="$(parent)Name" font="ZoFontGame" verticalAlignment="CENTER">
					<Dimensions x="250" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)" relativePoint="LEFT" offsetX="0" offsetY="0" />
				</Label>
				<Control name="$(parent)ComboBox" inherits="ZO_ComboBox">
					<Anchor point="RIGHT" relativeTo="$(parent)" relativePoint="RIGHT" offsetX="0" offsetY="0" />
					<Dimensions x="200" y="30" />
				</Control>
			</Controls>
		</Label>
		<!-- These templates are the labels in the crafting queue. It handles the tooltip + colour. -->
		<Label name="QueueRowLabelTemplate" font="ZoFontGame" verticalAlignment="CENTER" virtual="true" mouseEnabled="true">
			<OnInitialized>
				local original = self.SetColor
				self.ApplyColour = function(self, isKnown)
					if isKnown then
						original(self,0.4627451300621,0.73725491762161,0.76470595598221)
					elseif isKnown==nil then
						self.SetColor = original return
					else
						original(self,1,0.75,0.75,0.75)
					end
					self.isKnown = isKnown
					--d(self:GetParent().data[1].Pattern)
				end
				
				self.SetColor = function(self,...)  end
			</OnInitialized>
			<OnMouseEnter>
				if self.isKnown == false then
					InitializeTooltip(InformationTooltip, self, TOP, 0, 0)
					SetTooltipText(InformationTooltip, self:GetParent().errorTooltip)
				end
				DolgubonSetCrafter.scroll:Row_OnMouseEnter(self:GetParent())
			</OnMouseEnter>
			<OnMouseExit>
				ClearTooltip(InformationTooltip)
				DolgubonSetCrafter.scroll:Row_OnMouseExit(self:GetParent())
			</OnMouseExit>
		</Label>
		<!-- These templates are for the crafting materials queue-->
		<Button name="SetCrafterMaterialTemplate" virtual="true" mouseEnabled="true">
			<OnMouseEnter>
				if not self.isKnown then
					InitializeTooltip(ItemTooltip, self , TOP, 0, 20)
					ItemTooltip:SetLink(self.data[1].Name)
				else
					InitializeTooltip(ItemTooltip, self, TOP, 0, 20)
					ItemTooltip:SetLink(self.data[1].Name)
				end
			</OnMouseEnter>
			<OnMouseExit>
				ClearTooltip(ItemTooltip)
			</OnMouseExit>
			<OnInitialized>
				self.errorTooltip = DolgubonSetCrafter.localizedStrings.UIStrings.notEnoughSpecificMat
			</OnInitialized>
			<OnClicked>
				StartChatInput("Requires: "..DolgubonSetCrafter.outputSingleMatLine(self))
			</OnClicked>
			<Dimensions x="850" y="30" />
			<Controls>
				<Backdrop name="$(parent)BG" />
				
				<Label name="$(parent)Name" inherits="QueueRowLabelTemplate" color="76BCC3" mouseEnabled="false">
					<Dimensions x="180" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)" offsetX="0" color="000000" />
				</Label>
				<Label name="$(parent)Amount" inherits="QueueRowLabelTemplate" color="76BCC3" horizontalAlignment="RIGHT" mouseEnabled="false">
					<Dimensions x="90" y="48" />
					<Anchor point="RIGHT" relativeTo="$(parent)" offsetX="-20" color="000000" />
				</Label>
				
			</Controls>
		</Button>
		<!-- This template is for the craft request rows. It has the close button, and copies of all of the labels-->
		<Button name="CraftingRequestTemplate" virtual="true" mouseEnabled="true" >
			<OnMouseEnter>
				DolgubonSetCrafter.scroll:Row_OnMouseEnter(self)
			</OnMouseEnter>

			<OnMouseExit>

				DolgubonSetCrafter.scroll:Row_OnMouseExit(self)
			</OnMouseExit>
			<OnClicked>
				-- Get Reference
				-- Refer to LLC to find the request Table
				-- Get the mat requirements
				-- format it into a table properly
				-- replace the materialsList with the new table temporarily
				-- refresh materialsList
				-- place semi-permanent highlight

				-- Taking off
				-- delete temp table
				-- return materialslist as main table
				-- refresh scrolllists
				-- remove highlight
			</OnClicked>
			<OnInitialized>
				self.errorTooltip = DolgubonSetCrafter.localizedStrings.UIStrings.notEnoughKnowledge 
			</OnInitialized>
			<Dimensions x="850" y="30" />
			<Controls>
				<Button name="$(parent)RemoveButton" inheritAlpha="true" verticalAlignment="CENTER" horizontalAlignment="CENTER">
					<Anchor point="CENTER" relativeTo="$(parent)" relativePoint="RIGHT" offsetX="-10" offsetY="0" />
					<Dimensions x="44" y="44" />
					<Textures normal="/esoui/art/hud/radialicon_cancel_up.dds" mouseOver="/esoui/art/hud/radialicon_cancel_over.dds" />
					<OnClicked>
						self:onClickety()
					</OnClicked>
				</Button>
				<Texture name="$(parent)BG" inherits="ZO_ThinListBgStrip" />
				
				<Label name="$(parent)Pattern" inherits="QueueRowLabelTemplate" color="76BCC3">
					<Dimensions x="90" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)" offsetX="0" color="000000" />
				</Label>
				<Label name="$(parent)Weight" inherits="QueueRowLabelTemplate">
					<Dimensions x="70" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Pattern" offsetX="90" />
				</Label>
				<Label name="$(parent)Level" inherits="QueueRowLabelTemplate">
					<Dimensions x="50" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Weight" offsetX="70" />
				</Label>
				<Label name="$(parent)Style" inherits="QueueRowLabelTemplate" >
					<Dimensions x="150" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Level" offsetX="50" />
				</Label>
				<Label name="$(parent)Trait" inherits="QueueRowLabelTemplate" >
					<Dimensions x="110" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Style" offsetX="150" />
				</Label>
				<Label name="$(parent)Set" inherits="QueueRowLabelTemplate" >
					<Dimensions x="140" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Trait" offsetX="110" />
				</Label>
				<Label name="$(parent)Quality" inherits="QueueRowLabelTemplate">
					<Dimensions x="90" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Set" offsetX="140" />
				</Label>
				<Label name="$(parent)Reference" inherits="QueueRowLabelTemplate">
					<Dimensions x="30" y="48" />
					<Anchor point="LEFT" relativeTo="$(parent)Set" offsetX="200" />
					<OnInitialized>
						if not DolgubonSetCrafter:GetSettings().debug then
							self:SetHidden(true)
						end
					</OnInitialized>
				</Label>
				
			</Controls>
		</Button>
		
	</Controls>
</GuiXml>